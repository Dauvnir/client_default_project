---
import { Image } from "astro:assets";
import logo from "../../assets/logo.png";
---

<header>
  <nav>
    <Image src={logo} priority alt="elektryk24.pl" />
    <ul id="menu">
      <li><a href="/">HOME</a></li>
      <li><a href="#servicesSection">USŁUGI</a></li>
      <li><a href="/galeria">GALERIA</a></li>
      <li><a href="#whyUs">O NAS</a></li>
      <li><a href="#contactFormUs">KONTAKT</a></li>
    </ul>
    <button class="menuBtn" aria-label="openMenu">
      <svg
        aria-label="openMenu"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M4 18C3.71667 18 3.47934 17.904 3.288 17.712C3.09667 17.52 3.00067 17.2827 3 17C2.99934 16.7173 3.09534 16.48 3.288 16.288C3.48067 16.096 3.718 16 4 16H20C20.2833 16 20.521 16.096 20.713 16.288C20.905 16.48 21.0007 16.7173 21 17C20.9993 17.2827 20.9033 17.5203 20.712 17.713C20.5207 17.9057 20.2833 18.0013 20 18H4ZM4 13C3.71667 13 3.47934 12.904 3.288 12.712C3.09667 12.52 3.00067 12.2827 3 12C2.99934 11.7173 3.09534 11.48 3.288 11.288C3.48067 11.096 3.718 11 4 11H20C20.2833 11 20.521 11.096 20.713 11.288C20.905 11.48 21.0007 11.7173 21 12C20.9993 12.2827 20.9033 12.5203 20.712 12.713C20.5207 12.9057 20.2833 13.0013 20 13H4ZM4 8C3.71667 8 3.47934 7.904 3.288 7.712C3.09667 7.52 3.00067 7.28267 3 7C2.99934 6.71733 3.09534 6.48 3.288 6.288C3.48067 6.096 3.718 6 4 6H20C20.2833 6 20.521 6.096 20.713 6.288C20.905 6.48 21.0007 6.71733 21 7C20.9993 7.28267 20.9033 7.52033 20.712 7.713C20.5207 7.90567 20.2833 8.00133 20 8H4Z"
          fill="#F2F2F2"></path>
      </svg>
    </button>
    <button class="menuBtn toggleMenu" aria-label="closeMenu">
      <svg
        aria-label="closeMenu"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M11.9996 14.122L17.3026 19.425C17.584 19.7064 17.9657 19.8645 18.3636 19.8645C18.7616 19.8645 19.1432 19.7064 19.4246 19.425C19.706 19.1436 19.8641 18.7619 19.8641 18.364C19.8641 17.966 19.706 17.5844 19.4246 17.303L14.1196 12L19.4236 6.69699C19.5629 6.55766 19.6733 6.39226 19.7487 6.21024C19.824 6.02821 19.8628 5.83313 19.8627 5.63613C19.8627 5.43914 19.8238 5.24407 19.7484 5.06209C19.673 4.8801 19.5624 4.71475 19.4231 4.57549C19.2838 4.43622 19.1184 4.32576 18.9364 4.25042C18.7543 4.17507 18.5592 4.13631 18.3623 4.13636C18.1653 4.13641 17.9702 4.17526 17.7882 4.25069C17.6062 4.32612 17.4409 4.43666 17.3016 4.57599L11.9996 9.87899L6.6966 4.57599C6.5583 4.43266 6.39284 4.31831 6.20987 4.23961C6.0269 4.16091 5.83009 4.11944 5.63092 4.11762C5.43176 4.11579 5.23422 4.15365 5.04984 4.22899C4.86546 4.30432 4.69793 4.41562 4.55703 4.55639C4.41612 4.69717 4.30466 4.86459 4.22916 5.0489C4.15365 5.23321 4.1156 5.43071 4.11724 5.62988C4.11887 5.82905 4.16016 6.02589 4.23869 6.20894C4.31721 6.39198 4.43141 6.55755 4.5746 6.69599L9.8796 12L4.5756 17.304C4.43241 17.4424 4.31821 17.608 4.23969 17.791C4.16116 17.9741 4.11987 18.1709 4.11824 18.3701C4.1166 18.5693 4.15465 18.7668 4.23016 18.9511C4.30566 19.1354 4.41712 19.3028 4.55803 19.4436C4.69893 19.5844 4.86646 19.6957 5.05084 19.771C5.23522 19.8463 5.43276 19.8842 5.63192 19.8824C5.83109 19.8805 6.0279 19.8391 6.21087 19.7604C6.39384 19.6817 6.5593 19.5673 6.6976 19.424L11.9996 14.122Z"
          fill="#F2F2F2"></path>
      </svg>
    </button>
    <div class="mobileMenu">
      <ul>
        <li><a href="/">HOME</a></li>
        <li><a href="#servicesSection">USŁUGI</a></li>
        <li><a href="/galeria">GALERIA</a></li>
        <li><a href="#whyUs">O NAS</a></li>
        <li><a href="#contactFormUs">KONTAKT</a></li>
      </ul>
    </div>
  </nav>
</header>

<style>
  header {
    width: 100%;
    height: 2rem;

    overflow: hidden;

    margin-block: 2rem;

    position: relative;
    z-index: 3;
  }
  nav {
    width: 100%;
    height: 100%;

    display: inline-flex;
    align-items: center;
    justify-content: space-between;

    overflow: hidden;
  }

  img {
    height: 100%;
    width: auto;
  }

  #menu {
    display: flex;
    gap: 3rem;

    list-style: none;
    overflow: hidden;

    & li {
      cursor: pointer;
    }

    & a {
      text-decoration: none;
    }

    & li:first-child a {
      text-decoration: underline;
    }
  }
  #menu a {
    font-weight: 500;
  }
  button {
    display: none;
  }

  div {
    display: none;
  }

  @media screen and (max-width: 1023px) {
    #menu {
      display: none;
    }

    .mobileMenu {
      transform: translateX(100%);
    }

    button {
      display: block;
      width: auto;
      height: 100%;

      border: none;
      background: none;

      cursor: pointer;

      scale: 1.5;
    }

    .toggleMenu {
      display: none;
    }

    div {
      display: block;

      position: fixed;
      top: 0;
      right: 0;

      height: auto;
      width: auto;

      margin-top: 5rem;

      transform: translateX(0%);
      transition: all 1s;
      will-change: transform;

      & ul {
        background-color: var(--backgroundColorDarkLight);
        border-radius: 15px 0 0 15px;
        list-style-type: none;
        padding-block: 0.5rem;

        & li {
          padding-block: 0.5rem;
          padding-left: 2rem;
          padding-right: clamp(1rem, -0.627rem + 7.229vw, 4rem);

          & a {
            text-decoration: none;
          }
        }
      }
    }
  }
</style>

<script>
  const button = document.querySelectorAll<HTMLButtonElement>(".menuBtn");
  const mobileMenu = document.querySelector<HTMLDivElement>(".mobileMenu");
  const menuItems = document.querySelectorAll<HTMLLIElement>(".mobileMenu li");

  const menuButton = button[0];
  const hideButton = button[1];

  function toggleMenuVisibility(): void {
    if (menuButton) {
      menuButton.classList.toggle("toggleMenu");
    }

    if (hideButton) {
      hideButton.classList.toggle("toggleMenu");
    }

    if (mobileMenu) {
      mobileMenu.classList.toggle("mobileMenu");
    }
  }

  if (menuButton) {
    menuButton.addEventListener("click", () => toggleMenuVisibility());
  }
  if (menuItems) {
    menuItems.forEach((item) => {
      item.addEventListener("click", () => toggleMenuVisibility());
    });
  }
  if (hideButton) {
    hideButton.addEventListener("click", () => toggleMenuVisibility());
  }
</script>
